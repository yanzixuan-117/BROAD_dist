(function(){"use strict";var t={11478:function(t,e,a){a.d(e,{A:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"global"},[e("div",{staticClass:"head"},[e("div",{staticClass:"logo-container"},["/userhome"!==t.$route.path?e("div",{staticClass:"back-button",on:{click:t.goBack}},[e("i",{staticClass:"el-icon-arrow-left"})]):t._e(),t.isMobile&&"/userhome"===t.$route.path?e("div",{staticClass:"mobile-menu-icon",on:{click:function(e){return e.stopPropagation(),t.handleMenuClick.apply(null,arguments)}}},[e("i",{staticClass:"el-icon-s-unfold"})]):t._e(),e("h2",{staticClass:"title",on:{click:t.handleLogoClick}},[t._v("BROAD FORUM")])]),"/userhome"===t.$route.path?e("div",{staticClass:"search-container"},[e("el-input",{staticClass:"head-search-input",attrs:{placeholder:"搜索BROADFORUN...",clearable:""},on:{clear:t.handleSearchClear},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearch.apply(null,arguments)}},model:{value:t.searchKeyword,callback:function(e){t.searchKeyword=e},expression:"searchKeyword"}},[e("el-button",{staticClass:"head-search-button",attrs:{slot:"append"},on:{click:t.handleSearch},slot:"append"},[t._v(" Ask 火妙AI ")])],1)],1):t._e(),e("div",{staticClass:"user-info-container"},[t.isLoggedIn?e("div",{staticClass:"user-dropdown"},[e("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[e("div",{staticClass:"user-profile"},[e("div",{staticClass:"avatar-container"},[e("user-avatar",{attrs:{src:t.user.avatar,size:"small",clickable:!1}})],1),e("span",{staticClass:"user-name"},[t._v(t._s(t.user.userName))]),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"personalCenter"}},[e("i",{staticClass:"el-icon-user"}),t._v("个人中心 ")]),e("el-dropdown-item",{attrs:{command:"myBlog",divided:""}},[e("i",{staticClass:"el-icon-document"}),t._v("我的 ")]),e("el-dropdown-item",{attrs:{command:"logout",divided:""}},[e("i",{staticClass:"el-icon-switch-button"}),t._v("退出登录 ")])],1)],1)],1):e("div",{staticClass:"button-container"},[e("div",{staticClass:"btn btn-primary",on:{click:t.goLogo}},[t._v("登录")]),e("div",{staticClass:"btn btn-secondary",on:{click:t.goRegister}},[t._v("注册")])])])]),e("keep-alive",[e("router-view")],1)],1)},i=[],r=(a(44114),a(18962)),o=a(92646),n={components:{UserAvatar:o.A},data(){return{user:{},activeIndex:"/userhome",isMobile:!1,searchKeyword:""}},computed:{isLoggedIn(){return!!window.localStorage.getItem("token")&&!!this.user.userName}},mounted(){const t=window.localStorage.getItem("token");t&&this.getinfo(),this.activeIndex=this.$route.path,this.checkMobile(),window.addEventListener("resize",this.handleResize)},beforeDestroy(){window.removeEventListener("resize",this.handleResize)},watch:{"$route.path"(t){this.activeIndex=t}},methods:{goHome(){"/userhome"!==this.$route.path&&(this.activeIndex="/userhome",this.$router.push("/userhome").catch((t=>{if("NavigationDuplicated"!==t.name)throw t})))},goToPersonalCenter(){this.isLoggedIn?"/userinfo"!==this.$route.path&&(this.activeIndex="/userinfo",this.$router.push("/userinfo").catch((t=>{if("NavigationDuplicated"!==t.name)throw t}))):this.$message.warning("请先登录后再访问个人中心")},goToUserBlog(){this.isLoggedIn?"/userblog"!==this.$route.path&&(this.activeIndex="/userblog",this.$router.push("/userblog").catch((t=>{if("NavigationDuplicated"!==t.name)throw t}))):this.$message.warning("请先登录")},async getinfo(){try{const t=await r.A.get("/info");t.data&&t.data.userName?(console.log("res.data",t.data),this.user=t.data,window.localStorage.setItem("userinfo",JSON.stringify(this.user))):this.clearUserData()}catch(t){console.error("获取用户信息失败:",t),this.clearUserData()}},goLogo(){"/login"!==this.$route.path&&this.$router.push("/login").catch((t=>{if("NavigationDuplicated"!==t.name)throw t}))},goRegister(){const t=this.$route.query.inviterId;console.log("完整的URL:",window.location.href),console.log("获取到的inviterId:",t),t?(console.log("跳转到注册页面，携带邀请码:",t),this.$router.push({path:"/register",query:{inviterId:t}}).catch((t=>{if("NavigationDuplicated"!==t.name)throw t}))):(console.log("跳转到注册页面，无邀请码"),this.$router.push("/register").catch((t=>{if("NavigationDuplicated"!==t.name)throw t})))},async logout(){try{await r.A.post("/logout"),console.log("登出成功")}catch(t){console.error("登出请求失败:",t)}finally{this.clearUserData(),this.$message.success("已退出登录"),this.$router.push("/login").catch((t=>{if("NavigationDuplicated"!==t.name)throw t}))}},clearUserData(){window.localStorage.removeItem("userinfo"),window.localStorage.removeItem("token"),window.sessionStorage.clear(),this.user={},this.$store&&this.$store.commit("CLEAR_USER_STATE")},handleLogoClick(){this.isMobile&&"/userhome"===this.$route.path?this.$root.$emit("toggle-mobile-sidebar"):"/userhome"!==this.$route.path&&this.$router.push("/userhome").catch((t=>{if("NavigationDuplicated"!==t.name)throw t}))},goBack(){this.$router.go(-1)},handleMenuClick(){this.$root.$emit("toggle-mobile-sidebar")},checkMobile(){this.isMobile=window.innerWidth<=768},handleResize(){this.checkMobile()},handleCommand(t){switch(t){case"personalCenter":this.goToPersonalCenter();break;case"myBlog":this.goToUserBlog();break;case"logout":this.logout();break}},handleSearch(){this.searchKeyword&&this.searchKeyword.trim()?this.$root.$emit("search-articles",this.searchKeyword):this.$message.warning("请输入搜索关键词")},handleSearchClear(){this.searchKeyword="",this.$root.$emit("clear-search"),this.$message.success("已清除搜索")}}},l=n,c=a(81656),u=(0,c.A)(l,s,i,!1,null,"1ec8dde9",null),d=u.exports},31206:function(t,e,a){a.d(e,{A:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"userinfo-container"},[t._m(0),e("div",{staticClass:"profile-card"},[e("div",{staticClass:"card-header"},[e("button",{staticClass:"back-btn",on:{click:t.goBack}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"}},[e("path",{attrs:{d:"M19 12H5M12 19l-7-7 7-7"}})]),e("span",[t._v("返回")])]),e("h2",{staticClass:"page-title"},[t._v("个人信息")]),e("div",{staticClass:"spacer"})]),e("div",{staticClass:"card-content"},[e("el-form",{ref:"profileForm",staticClass:"profile-form",attrs:{model:t.user,rules:t.rules,"label-position":"top"}},[e("div",{staticClass:"avatar-section"},[e("oss-image-upload",{attrs:{"upload-type":"avatar","max-size":1,tip:"点击头像上传图片","size-tip":"支持 JPG、PNG 格式，大小不超过1MB","upload-class":"avatar-uploader"},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"avatar-wrapper"},[t.user.avatar?e("img",{staticClass:"avatar",attrs:{src:t.$getImageUrl(t.user.avatar)}}):e("div",{staticClass:"avatar-placeholder"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"}},[e("path",{attrs:{d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}})])]),e("div",{staticClass:"avatar-overlay"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"}},[e("path",{attrs:{d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"}})]),e("span",[t._v("更换头像")])])])]},proxy:!0}]),model:{value:t.user.avatar,callback:function(e){t.$set(t.user,"avatar",e)},expression:"user.avatar"}}),e("p",{staticClass:"avatar-tip"},[t._v("点击头像上传图片，支持 JPG、PNG 格式，大小不超过1MB")])],1),e("div",{staticClass:"form-fields"},[e("el-form-item",{attrs:{label:"账号",prop:"userName"}},[e("div",{staticClass:"input-wrapper"},[e("div",{staticClass:"input-icon"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"}},[e("path",{attrs:{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}}),e("circle",{attrs:{cx:"12",cy:"7",r:"4"}})])]),e("el-input",{staticClass:"modern-input",attrs:{disabled:"",placeholder:"账号"},model:{value:t.user.userName,callback:function(e){t.$set(t.user,"userName",e)},expression:"user.userName"}})],1)]),e("el-form-item",{attrs:{label:"新密码",prop:"password"}},[e("div",{staticClass:"input-wrapper"},[e("div",{staticClass:"input-icon"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"}},[e("rect",{attrs:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}}),e("path",{attrs:{d:"M7 11V7a5 5 0 0110 0v4"}})])]),e("el-input",{staticClass:"modern-input",attrs:{placeholder:"留空则不修改密码",type:"password","show-password":""},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),e("p",{staticClass:"field-tip"},[t._v("如不修改密码请留空，密码长度至少6位")])])],1),e("div",{staticClass:"action-buttons"},[e("button",{staticClass:"btn btn-secondary",on:{click:t.goBack}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"}},[e("path",{attrs:{d:"M19 12H5M12 19l-7-7 7-7"}})]),e("span",[t._v("取消")])]),e("button",{class:["btn btn-primary",{"btn-loading":"loading"===t.saveStatus,"btn-success":"success"===t.saveStatus,"btn-error":"error"===t.saveStatus}],attrs:{disabled:t.saving||"loading"===t.saveStatus},on:{click:t.update}},[e("span",{staticClass:"btn-content"},["idle"===t.saveStatus?e("svg",{staticClass:"save-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"}},[e("path",{attrs:{d:"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"}}),e("path",{attrs:{d:"M17 21v-8H7v8"}}),e("path",{attrs:{d:"M7 3v5h8"}})]):t._e(),"loading"===t.saveStatus?e("svg",{staticClass:"loading-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"}},[e("path",{attrs:{d:"M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"}})]):t._e(),"success"===t.saveStatus?e("svg",{staticClass:"success-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"}},[e("path",{attrs:{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}}),e("path",{attrs:{d:"M22 4L12 14.01l-3-3"}})]):t._e(),"error"===t.saveStatus?e("svg",{staticClass:"error-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"}},[e("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),e("path",{attrs:{d:"M15 9l-6 6"}}),e("path",{attrs:{d:"M9 9l6 6"}})]):t._e(),e("span",{staticClass:"btn-text"},["idle"===t.saveStatus?[t._v("保存修改")]:"loading"===t.saveStatus?[t._v("保存中...")]:"success"===t.saveStatus?[t._v("保存成功")]:"error"===t.saveStatus?[t._v("保存失败")]:t._e()],2)]),e("span",{ref:"saveBtnRipple",staticClass:"btn-ripple"})])])])],1)])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-decoration"},[e("div",{staticClass:"circle circle-1"}),e("div",{staticClass:"circle circle-2"}),e("div",{staticClass:"circle circle-3"})])}],r=(a(44114),a(18962)),o=a(8723),n={name:"UserInfo",components:{OssImageUpload:o.A},data(){return{user:{avatar:"",userName:"",password:""},saving:!1,saveStatus:"idle",rules:{password:[{min:6,message:"密码长度至少6位",trigger:"blur"}]}}},mounted(){this.loadUserInfo()},methods:{loadUserInfo(){const t=window.localStorage.getItem("userinfo");t&&(this.user=JSON.parse(t))},goBack(){this.$router&&this.$router.history.length>1?this.$router.go(-1):this.$router.push("/userhome")},async update(){this.$refs.profileForm.validate((async t=>{if(t){this.saveStatus="loading",this.saving=!0;try{const t={...this.user};t.password||delete t.password;const e=await r.A.post("/user/update",t);1===e.code||200===e.code?(this.saveStatus="success",this.$message.success("保存成功"),window.localStorage.setItem("userinfo",JSON.stringify(this.user)),setTimeout((()=>{this.saveStatus="idle",this.goBack()}),1500)):(this.saveStatus="error",this.$message.error(e.msg||e.data||"保存失败"),setTimeout((()=>{this.saveStatus="idle"}),2e3))}catch(e){console.error(e),this.saveStatus="error",this.$message.error("保存失败，请稍后重试"),setTimeout((()=>{this.saveStatus="idle"}),2e3)}finally{this.saving=!1}}}))}}},l=n,c=a(81656),u=(0,c.A)(l,s,i,!1,null,"13df4351",null),d=u.exports},55044:function(t,e,a){a.d(e,{A:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"global3"},[0==t.tableData.length?e("el-empty",{attrs:{descrption:"请先加入小组~"}}):e("el-table",{attrs:{data:t.tableData,strip:""}},[e("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e("el-table-column",{attrs:{type:"index",label:"序号",width:"70",align:"center",sortable:""}}),e("el-table-column",{attrs:{prop:"groupName",label:"小组名称"}}),e("el-table-column",{attrs:{label:"操作",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.detail(a.row.id)}}},[t._v("查看问题和讨论")])]}}])})],1)],1)},i=[],r=(a(44114),a(18962)),o={data(){return{list:[],tableData:[]}},mounted(){this.user=JSON.parse(window.localStorage.getItem("userinfo")),this.getdata()},methods:{detail(t){this.$router.push({path:"/userquestion",query:{id:t}})},async getdata(){const t=await r.A.get("/group/usergrouplist?uid="+this.user.id);console.log(t),this.tableData=t.data}}},n=o,l=a(81656),c=(0,l.A)(n,s,i,!1,null,"58e82dd0",null),u=c.exports},18478:function(t,e,a){a.d(e,{A:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"global3"},[0==t.tableData.length?e("el-empty",{attrs:{descrption:"请先加入小组~"}}):e("el-table",{attrs:{data:t.tableData,strip:""}},[e("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e("el-table-column",{attrs:{type:"index",label:"序号",width:"70",align:"center",sortable:""}}),e("el-table-column",{attrs:{prop:"name",label:"问题名称"}}),e("el-table-column",{attrs:{prop:"teacherName",label:"提问教师"}}),e("el-table-column",{attrs:{label:"操作",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.detail(a.row.id)}}},[t._v("查看讨论")]),e("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.detail1(a.row.id)}}},[t._v("评论")])]}}])})],1),e("el-dialog",{attrs:{title:"查看评价",visible:t.fromVisible1,width:"40%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(e){t.fromVisible1=e}}},t._l(t.commentlist,(function(a){return e("div",{staticClass:"commentylist"},[e("div",{staticClass:"avatar",staticStyle:{width:"50px",height:"50px","border-radius":"50%","margin-right":"10px"}},[null!==a.avatar?e("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:a.avatar,alt:""}}):e("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:a.teacheravatar,alt:""}})]),e("div",{staticClass:"user"},[e("div",{staticClass:"username",staticStyle:{"margin-bottom":"10px"}},[t._v(t._s(null==a.username?a.teachername:a.username))]),e("div",{staticClass:"username"},[t._v(t._s(a.name))])]),e("div",{staticClass:"dianzan",staticStyle:{flex:"1","text-align":"right"}},[1==a.dianzan?e("i",{staticClass:"el-icon-star-off",staticStyle:{color:"blue"},on:{click:function(e){return t.changestar(a)}}}):t._e(),0==a.dianzan?e("i",{staticClass:"el-icon-star-off",on:{click:function(e){return t.changestar(a)}}}):t._e()])])})),0),e("el-dialog",{attrs:{title:"评价",visible:t.fromVisible,width:"40%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(e){t.fromVisible=e}}},[e("el-form",{ref:"formRef",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,"label-width":"100px",rules:t.rules}},[e("el-form-item",{attrs:{label:"内容",prop:"name"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.fromVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)],1)},i=[],r=(a(98992),a(3949),a(18962)),o={data(){return{fromVisible:!1,form:{},list:[],fromVisible1:!1,qid:"",commentlist:[],tableData:[]}},mounted(){this.user=JSON.parse(window.localStorage.getItem("userinfo")),this.getdata()},methods:{async changestar(t){t.dianzan=!t.dianzan,this.commentlist=JSON.parse(JSON.stringify(this.commentlist));const e=await r.A.post("/star/star",{aid:t.id,tid:this.user.id,qqid:this.qid});console.log(e)},async save(){await r.A.post("/answer/add",{name:this.form.content,qid:this.qid,uid:this.user.id});this.fromVisible=!1,this.$message.success("成功")},detail1(t){this.qid=t,this.fromVisible=!0},async detail(t){const e=await r.A.get("/answer/list?id="+t);console.log(e),this.commentlist=e.data,this.commentlist.forEach((t=>{t.dianzan=!1})),this.fromVisible1=!0},async getdata(){const t=await r.A.get("/group/userqlist",{params:{pageNum:1,pageSize:1e4,keyword:"",tid:this.$route.query.id}});console.log(t),this.tableData=t.data.records}}},n=o,l=a(81656),c=(0,l.A)(n,s,i,!1,null,"448a3e53",null),u=c.exports},26710:function(t,e,a){a.d(e,{A:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"global1"},[e("div",{staticStyle:{width:"70%",margin:"20px auto"}},[t._v(" 智能推荐 ")]),e("el-card",{staticClass:"hotellist"},t._l(t.tableData2,(function(a){return e("div",{staticClass:"hotelitem",on:{click:function(e){return t.godetail(a)}}},[e("img",{staticStyle:{width:"200px"},attrs:{src:a.img,alt:"",srcset:""}}),e("div",[t._v(t._s(a.name))]),e("div",{staticStyle:{"font-weight":"bold",color:"red"}},[t._v("￥"+t._s(a.price))])])})),0),e("div",{staticStyle:{width:"70%",margin:"20px auto"}},[e("el-pagination",{attrs:{background:"","current-page":t.queryform.pageNum,"page-sizes":[5,10,20],"page-size":t.queryform.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)},i=[],r=(a(44114),a(18962)),o={data(){return{tableData:[],tableData1:[],tableData2:[],queryform:{pageNum:1,pageSize:10,keyword:""},user:{}}},mounted(){this.user=JSON.parse(window.localStorage.getItem("userinfo")),this.getlist()},methods:{chaxun(){this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},godetail(t){this.$router.push({path:"/userhomedetail",query:{id:t.id}})},test(t){this.$router.push({path:"/usertest?id="+t})},async test1(t){const e=await r.A.post("/group/addGroup",{uid:this.user.id,gid:t});1==e.code&&this.$message.success("加入成功")},detail(t){this.$router.push({path:"/usertypedetail?id="+t})},handleCurrentChange(t){this.queryform.pageNum=t,this.getlist()},async getlist(){const t=await r.A.get("/goods/alllist",{params:this.queryform});console.log(t),1==t.code&&(this.tableData2=t.data.records,this.total=t.data.total)}}},n=o,l=a(81656),c=(0,l.A)(n,s,i,!1,null,"2004efa4",null),u=c.exports},39311:function(t,e,a){a.d(e,{A:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"globalsource"},[e("div",{staticClass:"sourcename"},[t._v(t._s(t.info.name))]),e("div",{staticClass:"sourceinfo"},[e("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:a(74026),alt:""}}),t._v(" "),e("span",[t._v(t._s(0==t.info.watchnum?0:t.info.watchnum))]),e("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:a(68677),alt:""}}),t._v(" "),e("span",[t._v(t._s(0==t.info.downloadnum?0:t.info.downloadnum))]),t._v(" "),e("span",[t._v(t._s(t.info.createtime))])]),e("div",{staticClass:"sourceurl"},[e("video",{staticStyle:{width:"100%",height:"200px"},attrs:{controls:"",autoplay:"",src:t.info.url}})]),e("div",[t._v(t._s(t.info.info))]),e("div",[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.download()}}},[t._v("下载")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.pingjia()}}},[t._v("评价")])],1),e("h3",[t._v("评价信息")]),t._l(t.commentlist,(function(a){return e("div",{staticClass:"commentylist"},[e("div",{staticClass:"avatar",staticStyle:{width:"50px",height:"50px","border-radius":"50%","margin-right":"10px"}},[e("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:a.avatar,alt:""}})]),e("div",{staticClass:"user"},[e("div",{staticClass:"username",staticStyle:{"margin-bottom":"10px"}},[t._v(t._s(a.username))]),e("div",{staticClass:"username"},[t._v(t._s(a.content))])])])})),e("el-dialog",{attrs:{title:"评价",visible:t.fromVisible,width:"40%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(e){t.fromVisible=e}}},[e("el-form",{ref:"formRef",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,"label-width":"100px",rules:t.rules}},[e("el-form-item",{attrs:{label:"内容",prop:"name"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.fromVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)],2)},i=[],r=(a(44114),a(18962)),o={data(){return{user:{},fromVisible:!1,info:{},form:{},commentlist:[]}},mounted(){this.user=JSON.parse(window.localStorage.getItem("userinfo")),this.getdetail()},methods:{pingjia(){this.form={},this.fromVisible=!0},async save(){this.form.sourceid=this.info.id,this.form.userid=this.user.id;const t=await r.A.post("/source/pingjia",this.form);console.log(t),1==t.code&&(this.$message.success("成功"),this.fromVisible=!1,this.getdetail())},async getdetail(){const t=await r.A.get("/source/detail?id="+this.$route.query.id);console.log(t),this.info=t.data;const e=await r.A.get("/source/pingjialist?id="+this.$route.query.id);console.log(e),this.commentlist=e.data},personal(){this.$router.push({path:"/userinfo"})},async download(){window.location.href=this.info.url;await r.A.post("/source/add",{id:this.info.id,downloadnum:this.info.downloadnum+1});this.getdetail()},logout(){window.localStorage.clear(),this.$router.push({path:"/"})}}},n=o,l=a(81656),c=(0,l.A)(n,s,i,!1,null,"6a4907e4",null),u=c.exports},19688:function(t,e,a){a.d(e,{A:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"global1"},[e("h3",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.info.name))]),e("div",{staticClass:"list"},t._l(t.list,(function(a,s){return e("div",{staticClass:"listitem"},[e("div",{staticClass:"question"},[t._v(t._s(s+1)+"."+t._s(a.name))]),"选择题"==a.type?e("div",{staticClass:"daan"},[e("el-radio-group",{on:{input:t.change},model:{value:a.daan,callback:function(e){t.$set(a,"daan",e)},expression:"item.daan"}},[e("el-radio",{attrs:{label:"A"}},[t._v("A."+t._s(a.optiona))]),e("el-radio",{attrs:{label:"B"}},[t._v("B."+t._s(a.optionb))]),e("el-radio",{attrs:{label:"C"}},[t._v("C."+t._s(a.optionc))])],1)],1):e("div",{staticClass:"daan"},[e("el-radio-group",{on:{input:t.change},model:{value:a.daan,callback:function(e){t.$set(a,"daan",e)},expression:"item.daan"}},[e("el-radio",{attrs:{label:"T"}},[t._v("A.T")]),e("el-radio",{attrs:{label:"F"}},[t._v("B.F")])],1)],1)])})),0),e("div",{staticClass:"buttoncz"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("提交")]),e("el-button",{attrs:{type:"primary"},on:{click:t.fahui}},[t._v("返回")])],1)])},i=[],r=(a(44114),a(98992),a(3949),a(18962)),o={data(){return{info:{},list:[],user:{}}},mounted(){this.user=JSON.parse(window.localStorage.getItem("userinfo")),this.getdata()},methods:{fahui(){this.$router.go(-1)},change(){this.$forceUpdate(),this.list=JSON.parse(JSON.stringify(this.list)),console.log(this.list)},async getdata(){const t=await r.A.get("/tiku/detail?id="+this.$route.query.id);console.log(t),this.info=t.data.tiku,this.list=t.data.list,this.list.forEach((t=>{t.daan=""}))},async submit(){const t=[],e=[];this.list.forEach((a=>{t.push(a.rightreply),e.push(a.daan)}));const a=await r.A.post("/tiku/addsj",{name:this.info.name,biaozhundaan:JSON.stringify(t),xueshengdaan:JSON.stringify(e),userid:this.user.id,score:0});console.log(a),this.$message.success("成功"),this.fahui()}}},n=o,l=a(81656),c=(0,l.A)(n,s,i,!1,null,"0751ed0a",null),u=c.exports},36108:function(t,e,a){a.d(e,{A:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"detail"},[e("div",{staticClass:"homedetail"},[e("div",{staticClass:"detailimg"},[e("img",{attrs:{src:t.info.avatar,alt:""}})]),e("div",{staticClass:"info"},[e("div",[t._v("名称:"+t._s(t.info.name))]),e("div",[t._v("类型:"+t._s(t.info.type))]),e("div",[e("el-input-number",{model:{value:t.info.num,callback:function(e){t.$set(t.info,"num",e)},expression:"info.num"}})],1),e("div",[e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.addcollect()}}},[t._v("加入购物车")])],1)])]),e("div",{staticClass:"hotellist"},[e("div",{staticClass:"comment"},[t._v("评价信息")]),t._l(t.commentlist,(function(a){return e("div",{staticClass:"commentylist"},[e("div",{staticClass:"avatar",staticStyle:{width:"50px",height:"50px","border-radius":"50%","margin-right":"10px"}},[e("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:a.avatar,alt:""}})]),e("div",{staticClass:"user"},[e("div",{staticClass:"username",staticStyle:{"margin-bottom":"10px"}},[t._v(t._s(a.username))]),e("div",{staticClass:"username"},[t._v(t._s(a.content))])])])}))],2),e("el-dialog",{attrs:{title:"评价",visible:t.fromVisible,width:"40%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(e){t.fromVisible=e}}},[e("el-form",{ref:"formRef",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,"label-width":"100px",rules:t.rules}},[e("el-form-item",{attrs:{label:"内容",prop:"name"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.fromVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)],1)},i=[],r=a(18962),o={data(){return{info:{},tableData:[],fromVisible:!1,commentlist:[],form:{},user:{}}},mounted(){this.user=JSON.parse(window.localStorage.getItem("userinfo")),this.getdetail()},methods:{yuding(){this.form={},this.fromVisible=!0},async getdetail(){const t=await r.A.get("/guke/detail?id="+this.$route.query.id);console.log(t),this.info=t.data},async save(){this.form.subjectid=this.info.id,this.form.userid=this.user.id;const t=await r.A.post("/subject/pingjia",this.form);console.log(t),1==t.code&&(this.$message.success("成功"),this.fromVisible=!1,this.getdetail())},async addcollect(){this.$confirm("是否确认选课？, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const t=await r.A.post("/subject/check",{userid:this.user.id,subjectid:this.info.id});console.log(t),1==t.code&&this.$message({type:"success",message:"选课成功!"})})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},async getlist(){const t=await r.A.get("/hotal/typelist",{params:{pageNum:1,pageSize:1e3,hotelId:this.$route.query.id,keyword:""}});console.log(t),1==t.code&&(this.tableData=t.data.records)}}},n=o,l=a(81656),c=(0,l.A)(n,s,i,!1,null,"4aafddc4",null),u=c.exports},76417:function(t,e,a){a.d(e,{A:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticClass:"mb"},[e("el-input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"请输入关键词搜索"},model:{value:t.queryform.keyword,callback:function(e){t.$set(t.queryform,"keyword",e)},expression:"queryform.keyword"}}),e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.search()}}},[t._v("查询")]),e("el-button",{attrs:{type:"info",plain:""},on:{click:function(e){return t.research()}}},[t._v("重置")]),e("el-button",{staticStyle:{float:"right"},attrs:{type:"warning",plain:""},on:{click:function(e){return t.add()}}},[t._v("新增")])],1),e("el-card",[e("div",{staticClass:"table"},[e("el-table",{attrs:{data:t.tableData,strip:""}},[e("el-table-column",{attrs:{prop:"id",label:"序号",width:"70",align:"center",sortable:""}}),e("el-table-column",{attrs:{prop:"name",label:"名称"}}),e("el-table-column",{attrs:{prop:"avatar",label:"头像"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.avatar?e("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:a.row.avatar,"preview-src-list":[a.row.avatar]}}):t._e()]}}])}),e("el-table-column",{attrs:{prop:"teachername",label:"创建人"}}),e("el-table-column",{attrs:{label:"操作",align:"center",width:"350"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return t.wtch(a.row.id)}}},[t._v("查看小组成员")]),e("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.handleEdit(a.row)}}},[t._v("编辑")]),e("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(e){return t.del(a.row.id)}}},[t._v("删除")])]}}])})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:"","current-page":t.queryform.pageNum,"page-sizes":[5,10,20],"page-size":t.queryform.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)]),e("el-dialog",{attrs:{title:"小组成员",visible:t.fromVisible1,width:"40%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(e){t.fromVisible1=e}}},[e("el-table",{attrs:{data:t.tableData1,strip:""}},[e("el-table-column",{attrs:{prop:"id",label:"序号",width:"70",align:"center",sortable:""}}),e("el-table-column",{attrs:{prop:"userName",label:"名称"}}),e("el-table-column",{attrs:{label:"操作",align:"center",width:"350"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(e){return t.del1(a.row.id)}}},[t._v("删除")])]}}])})],1)],1),e("el-dialog",{attrs:{title:"小组信息",visible:t.fromVisible,width:"40%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(e){t.fromVisible=e}}},[e("el-form",{ref:"formRef",staticStyle:{"padding-right":"50px"},attrs:{model:t.form,"label-width":"100px",rules:t.rules}},[e("el-form-item",{attrs:{label:"名称",prop:"gname"}},[e("el-input",{attrs:{placeholder:"名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"图片",prop:"avatar"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/files/upload","show-file-list":!1,"on-success":t.handleAvatarSuccess}},[""!==t.avatar?e("img",{staticClass:"avatar",attrs:{src:t.avatar}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.fromVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)],1)},i=[],r=a(18962),o={data(){return{fileList:[],teacherlist:[],tableData:[],pageNum:1,pageSize:10,total:0,username:null,tableData1:[],token:"",name:null,fromVisible:!1,fromVisible1:!1,avatar:"",queryform:{keyword:"",pageNum:1,tid:0,pageSize:10},license:"",form:{avatar:"",license:""},user:{},rules:{cname:[{required:!0,message:"请输入名称",trigger:"blur"}]},ids:[],businessList:[],categoryList:[],hotellist:[],sjlist:[]}},mounted(){this.token=window.localStorage.getItem("token"),this.user=JSON.parse(window.localStorage.getItem("userinfo")),console.log(this.user),this.getlist(),"ADMIN"==this.user.role&&this.getall()},methods:{shenhe(t){},async wtch(t){const e=await r.A.get("/group/groupuserlist?gid="+t);console.log(e),this.fromVisible1=!0,this.tableData1=e.data},selectcaf(t){this.$forceUpdate()},handleFileSuccess(t){this.form.img=t.data},async getall(){const t=await r.A.get("/teacher/all");console.log(t),this.teacherlist=t.data},del1(t){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const e=await r.A.get("/group/deleteusergroup?id="+t);console.log(e),1==e.code&&(this.$message({type:"success",message:"删除成功!"}),this.fromVisible1=!1)})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},del(t){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const e=await r.A.get("/group/delete?id="+t);console.log(e),1==e.code&&(this.$message({type:"success",message:"删除成功!"}),this.getlist())})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},force(t){this.form.timeRange=t,this.$forceUpdate()},handleEdit(t){this.form=t,this.avatar=t.avatar,this.form.teacherid=t.teacherid,"ADMIN"==this.user.role&&this.getall(),this.fromVisible=!0},search(){this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},research(){this.queryform.keyword="",this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},async getlist(){"TEACHER"==this.user.role&&(this.queryform.tid=this.user.id);const t=await r.A.get("/group/list",{params:this.queryform});console.log(t),1==t.code&&(this.tableData=t.data.records,this.total=t.data.total)},add(){this.avatar="",this.license="",this.fileList=[],this.form={},this.fromVisible=!0},handleLicenseSuccess(t){},async save(){this.form.avatar=this.avatar,"TEACHER"==this.user.role&&(this.form.teachid=this.user.id);const t=await r.A.post("/group/add",this.form);1==t.code&&(this.fromVisible=!1,this.$message.success("操作成功"),this.getlist())},handleCurrentChange(t){},handleAvatarSuccess(t){console.log(t),this.avatar=t.data,console.log(this.form.avatar)},handleAvatarSuccess1(t){this.license=t.data}}},n=o,l=a(81656),c=(0,l.A)(n,s,i,!1,null,"13461b58",null),u=c.exports}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,s,i,r){if(!s){var o=1/0;for(u=0;u<t.length;u++){s=t[u][0],i=t[u][1],r=t[u][2];for(var n=!0,l=0;l<s.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(n=!1,r<o&&(o=r));if(n){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[s,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,s){return a.f[s](t,e),e}),[]))}}(),function(){a.u=function(t){return"static/js/about.f56572ec.js"}}(),function(){a.miniCssF=function(t){return"static/css/about.4a2c2a6f.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="hard-diancan-front:";a.l=function(s,i,r,o){if(t[s])t[s].push(i);else{var n,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==e+r){n=d;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",e+r),n.src=s),t[s]=[i];var h=function(e,a){n.onerror=n.onload=null,clearTimeout(m);var i=t[s];if(delete t[s],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((function(t){return t(a)})),e)return e(a)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=h.bind(null,n.onerror),n.onload=h.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){a.p=""}(),function(){if("undefined"!==typeof document){var t=function(t,e,s,i,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",a.nc&&(o.nonce=a.nc);var n=function(a){if(o.onerror=o.onload=null,"load"===a.type)i();else{var s=a&&a.type,n=a&&a.target&&a.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+s+": "+n+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=n,o.parentNode&&o.parentNode.removeChild(o),r(l)}};return o.onerror=o.onload=n,o.href=e,s?s.parentNode.insertBefore(o,s.nextSibling):document.head.appendChild(o),o},e=function(t,e){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var i=a[s],r=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===t||r===e))return i}var o=document.getElementsByTagName("style");for(s=0;s<o.length;s++){i=o[s],r=i.getAttribute("data-href");if(r===t||r===e)return i}},s=function(s){return new Promise((function(i,r){var o=a.miniCssF(s),n=a.p+o;if(e(o,n))return i();t(s,n,null,i,r)}))},i={475:0};a.f.miniCss=function(t,e){var a={594:1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=s(t).then((function(){i[t]=0}),(function(e){throw delete i[t],e})))}}}(),function(){var t={475:0};a.f.j=function(e,s){var i=a.o(t,e)?t[e]:void 0;if(0!==i)if(i)s.push(i[2]);else{var r=new Promise((function(a,s){i=t[e]=[a,s]}));s.push(i[2]=r);var o=a.p+a.u(e),n=new Error,l=function(s){if(a.o(t,e)&&(i=t[e],0!==i&&(t[e]=void 0),i)){var r=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;n.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",n.name="ChunkLoadError",n.type=r,n.request=o,i[1](n)}};a.l(o,l,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,r,o=s[0],n=s[1],l=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(l)var u=l(a)}for(e&&e(s);c<o.length;c++)r=o[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(u)},s=self["webpackChunkhard_diancan_front"]=self["webpackChunkhard_diancan_front"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[315,652,566,486,98,270,957,38,287,450,818,545,967,661,791,624,323,281,76,667,558,755,701,714,399,969,12,675,404,275,406,582,282,137,183,304,97,1,189,385,242,641],(function(){return a(93326)}));s=a.O(s)})();