"use strict";(self["webpackChunkhard_diancan_front"]=self["webpackChunkhard_diancan_front"]||[]).push([[641],{99604:function(e,t,a){a.d(t,{A:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"mb"},[t("el-input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"请输入关键词搜索"},model:{value:e.queryform.keyword,callback:function(t){e.$set(e.queryform,"keyword",t)},expression:"queryform.keyword"}}),t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.search()}}},[e._v("查询")]),t("el-button",{attrs:{type:"info",plain:""},on:{click:function(t){return e.research()}}},[e._v("重置")]),t("el-button",{staticStyle:{float:"right"},attrs:{type:"warning",plain:""},on:{click:function(t){return e.add()}}},[e._v("新增")])],1),t("el-card",[t("div",{staticClass:"table"},[t("el-table",{attrs:{data:e.tableData,strip:""}},[t("el-table-column",{attrs:{prop:"id",label:"序号",width:"70",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"名称"}}),t("el-table-column",{attrs:{prop:"rightreply",label:"答案"}}),t("el-table-column",{attrs:{prop:"tikuname",label:"所属题库"}}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"350"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(t){return e.del(a.row.id)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"","current-page":e.queryform.pageNum,"page-sizes":[5,10,20],"page-size":e.queryform.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)]),t("el-dialog",{attrs:{title:"题库信息",visible:e.fromVisible,width:"40%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.fromVisible=t}}},[t("el-form",{ref:"formRef",staticStyle:{"padding-right":"50px"},attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[t("el-form-item",{attrs:{label:"名称",prop:"gname"}},[t("el-input",{attrs:{placeholder:"名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"类型",prop:"score"}},[t("el-select",{staticStyle:{width:"100%","margin-right":"10px"},attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[t("el-option",{attrs:{value:"选择题",label:"选择题"}}),t("el-option",{attrs:{value:"判断题",label:"判断题"}})],1)],1),"选择题"==e.form.type?t("el-form-item",{attrs:{label:"A",prop:"optiona"}},[t("el-input",{attrs:{placeholder:"名称"},model:{value:e.form.optiona,callback:function(t){e.$set(e.form,"optiona",t)},expression:"form.optiona"}})],1):e._e(),"选择题"==e.form.type?t("el-form-item",{attrs:{label:"B",prop:"optionb"}},[t("el-input",{attrs:{placeholder:"名称"},model:{value:e.form.optionb,callback:function(t){e.$set(e.form,"optionb",t)},expression:"form.optionb"}})],1):e._e(),"选择题"==e.form.type?t("el-form-item",{attrs:{label:"C",prop:"optionc"}},[t("el-input",{attrs:{placeholder:"名称"},model:{value:e.form.optionc,callback:function(t){e.$set(e.form,"optionc",t)},expression:"form.optionc"}})],1):e._e(),t("el-form-item",{attrs:{label:"正确答案",prop:"rightreply"}},[t("el-input",{attrs:{placeholder:"正确答案"},model:{value:e.form.rightreply,callback:function(t){e.$set(e.form,"rightreply",t)},expression:"form.rightreply"}})],1),t("el-form-item",{attrs:{label:"所属题库",prop:"score"}},[t("el-select",{staticStyle:{width:"100%","margin-right":"10px"},attrs:{placeholder:"请选择"},model:{value:e.form.tikuid,callback:function(t){e.$set(e.form,"tikuid",t)},expression:"form.tikuid"}},e._l(e.tikulist,(function(e){return t("el-option",{attrs:{value:e.id,label:e.name}})})),1)],1),t("el-form-item",{attrs:{label:"是否重点题目",prop:"score"}},[t("el-select",{staticStyle:{width:"100%","margin-right":"10px"},attrs:{placeholder:"请选择"},model:{value:e.form.isim,callback:function(t){e.$set(e.form,"isim",t)},expression:"form.isim"}},[t("el-option",{attrs:{value:"是",label:"是"}}),t("el-option",{attrs:{value:"否",label:"否"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.fromVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)],1)},l=[],r=a(18962),o={data(){return{fileList:[],teacherlist:[],tikulist:[],tableData:[],pageNum:1,pageSize:10,total:0,username:null,token:"",name:null,fromVisible:!1,avatar:"",queryform:{keyword:"",pageNum:1,pageSize:10},license:"",form:{avatar:"",license:""},user:{},rules:{cname:[{required:!0,message:"请输入名称",trigger:"blur"}]},ids:[],businessList:[],categoryList:[],hotellist:[],sjlist:[]}},mounted(){this.token=window.localStorage.getItem("token"),this.user=JSON.parse(window.localStorage.getItem("userinfo")),console.log(this.user),this.getlist(),this.getall()},methods:{shenhe(e){},async selectca(e){console.log(e);const t=await r.A.get("/hotal/typeByhotel?id="+e);console.log(t),this.categoryList=t.data},selectcaf(e){this.$forceUpdate()},handleFileSuccess(e){this.form.img=e.data},async getall(){const e=await r.A.get("/tiku/all");console.log(e),this.tikulist=e.data},del(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const t=await r.A.get("/tiku/delete?id="+e);console.log(t),1==t.code&&(this.$message({type:"success",message:"删除成功!"}),this.getlist())})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},force(e){this.form.timeRange=e,this.$forceUpdate()},handleEdit(e){this.form=e,this.avatar=e.avatar,this.form.teacherid=e.teacherid,"ADMIN"==this.user.role&&this.getall(),this.fromVisible=!0},search(){this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},research(){this.queryform.keyword="",this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},async getlist(){const e=await r.A.get("/tiku/qlist",{params:this.queryform});console.log(e),1==e.code&&(this.tableData=e.data.records,this.total=e.data.total)},add(){this.avatar="",this.license="",this.fileList=[],this.form={},this.fromVisible=!0},handleLicenseSuccess(e){},async save(){const e=await r.A.post("/tiku/savequestion",this.form);1==e.code&&(this.fromVisible=!1,this.$message.success("操作成功"),this.getlist())},handleCurrentChange(e){},handleAvatarSuccess(e){console.log(e),this.avatar=e.data,console.log(this.form.avatar)},handleAvatarSuccess1(e){this.license=e.data}}},i=o,n=a(81656),c=(0,n.A)(i,s,l,!1,null,"351a9fde",null),u=c.exports},64289:function(e,t,a){a.d(t,{A:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg"},[t("div",{staticClass:"login-container"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.rules,"label-position":"left","label-width":"0px"}},[t("h3",{staticClass:"title"},[e._v("论坛")]),t("el-form-item",{attrs:{prop:"userName"}},[t("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"请输入用户名"},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入确认密码"},model:{value:e.repassword,callback:function(t){e.repassword=t},expression:"repassword"}})],1),t("el-form-item",{attrs:{prop:"role"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择角色"},model:{value:e.loginForm.role,callback:function(t){e.$set(e.loginForm,"role",t)},expression:"loginForm.role"}},[t("el-option",{attrs:{label:"管理员",value:1}}),t("el-option",{attrs:{label:"用户",value:2}})],1)],1),t("el-form-item",{staticStyle:{width:"100%"}},[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.handleLogin}},[e._v("注册")])],1),t("div",{staticClass:"tip",on:{click:function(t){return e.sjzhuce()}}},[e._v(" 已有账号？去登录 ")])],1)],1)])},l=[],r=(a(44114),a(18962)),o={data(){return{loginForm:{userName:"",password:""},repassword:"",rules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"change"}]}}},methods:{sjzhuce(){this.$router.push({path:"/login"})},handleLogin(){this.$refs.loginForm.validate((async e=>{if(!e)return console.log("表单校验失败"),!1;if(this.repassword==this.loginForm.password){const e=await r.A.post("/register",this.loginForm);1==e.code?(this.$message.success("注册成功"),this.$router.push({path:"/"})):this.$message.warning(e.msg)}else this.$message.warning("密码和确认密码不一样")}))}}},i=o,n=a(81656),c=(0,n.A)(i,s,l,!1,null,"84e8f15e",null),u=c.exports},12970:function(e,t,a){a.d(t,{A:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"mb"},["ADMIN"==e.user.role?t("el-select",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"请选择酒店"},model:{value:e.queryform.keyword,callback:function(t){e.$set(e.queryform,"keyword",t)},expression:"queryform.keyword"}},e._l(e.hotellist,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1):e._e(),t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.search()}}},[e._v("查询")]),t("el-button",{attrs:{type:"info",plain:""},on:{click:function(t){return e.research()}}},[e._v("重置")]),"HOTEL"==e.user.role?t("el-button",{staticStyle:{float:"right"},attrs:{type:"warning",plain:""},on:{click:function(t){return e.add()}}},[e._v("新增")]):e._e()],1),t("el-card",[t("div",{staticClass:"table"},[t("el-table",{attrs:{data:e.tableData,strip:""}},[t("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t("el-table-column",{attrs:{prop:"id",label:"序号",width:"70",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"房间编号"}}),t("el-table-column",{attrs:{prop:"status",label:"房间状态"}}),t("el-table-column",{attrs:{prop:"typeName",label:"所属分类"}}),t("el-table-column",{attrs:{prop:"hotelName",label:"所属酒店"}}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return["HOTEL"==e.user.role?t("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑")]):e._e(),t("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(t){return e.del(a.row.id)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"","current-page":e.queryform.pageNum,"page-sizes":[5,10,20],"page-size":e.queryform.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)]),t("el-dialog",{attrs:{title:"房间信息",visible:e.fromVisible,width:"40%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.fromVisible=t}}},[t("el-form",{ref:"formRef",staticStyle:{"padding-right":"50px"},attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[t("el-form-item",{attrs:{label:"名称",prop:"gname"}},[t("el-input",{attrs:{placeholder:"名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"房间状态状态",prop:"status"}},[t("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[t("el-radio",{attrs:{label:"空闲"}}),t("el-radio",{attrs:{label:"占用"}})],1)],1),t("el-form-item",{attrs:{label:"分类",prop:"categoryId"}},[t("el-select",{staticStyle:{width:"100%"},on:{change:e.selectcaf},model:{value:e.form.typeId,callback:function(t){e.$set(e.form,"typeId",t)},expression:"form.typeId"}},e._l(e.categoryList,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.fromVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)],1)},l=[],r=a(18962),o={data(){return{fileList:[],tableData:[],pageNum:1,pageSize:10,total:0,username:null,token:"",name:null,fromVisible:!1,avatar:"",queryform:{keyword:"",pageNum:1,pageSize:10},license:"",form:{avatar:"",license:""},user:{},rules:{cname:[{required:!0,message:"请输入名称",trigger:"blur"}]},ids:[],businessList:[],categoryList:[],hotellist:[],sjlist:[]}},mounted(){this.token=window.localStorage.getItem("token"),this.user=JSON.parse(window.localStorage.getItem("userinfo")),console.log(this.user),this.getall(),this.getlist(),"HOTEL"==this.user.role&&this.selectca(this.user.id)},methods:{async selectca(e){console.log(e);const t=await r.A.get("/hotal/typeByhotel?id="+e);console.log(t),this.categoryList=t.data},selectcaf(e){this.$forceUpdate()},handleFileSuccess(e){this.form.img=e.data},async getall(){const e=await r.A.get("/hotal/all");console.log(e),this.hotellist=e.data},del(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const t=await r.A.get("/hotal/roomdelete?id="+e);console.log(t),1==t.code&&(this.$message({type:"success",message:"删除成功!"}),this.getlist())})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},force(e){this.form.timeRange=e,this.$forceUpdate()},handleEdit(e){this.form=e,this.form.hotelId=e.hotelId,this.selectca(this.form.hotelId),this.fromVisible=!0},search(){this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},research(){this.queryform.keyword="",this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},async getlist(){"HOTEL"==this.user.role&&(this.queryform.keyword=this.user.id);const e=await r.A.get("/hotal/roomlist",{params:this.queryform});console.log(e),1==e.code&&(this.tableData=e.data.records,this.total=e.data.total)},add(){this.avatar="",this.license="",this.fileList=[],this.form={},this.fromVisible=!0},handleLicenseSuccess(e){},async save(){"HOTEL"==this.user.role&&(this.form.hotelId=this.user.id);const e=await r.A.post("/hotal/roomsave",this.form);1==e.code&&(this.fromVisible=!1,this.$message.success("操作成功"),this.getlist())},handleCurrentChange(e){},handleAvatarSuccess(e){console.log(e),this.avatar=e.data,console.log(this.form.avatar)},handleAvatarSuccess1(e){this.license=e.data}}},i=o,n=a(81656),c=(0,n.A)(i,s,l,!1,null,"73ed6896",null),u=c.exports},69739:function(e,t,a){a.d(t,{A:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"mb"},[t("el-button",{staticStyle:{float:"right"},attrs:{type:"warning",plain:""},on:{click:function(t){return e.add()}}},[e._v("新增")])],1),t("el-card",[t("div",{staticClass:"table"},[t("el-table",{attrs:{data:e.tableData,strip:""}},[t("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"70",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"id",label:"订单编号"}}),t("el-table-column",{attrs:{prop:"username",label:"用户"}}),t("el-table-column",{attrs:{prop:"hotelname",label:"酒店"}}),t("el-table-column",{attrs:{prop:"typename",label:"客房"}}),t("el-table-column",{attrs:{prop:"roomname",label:"房间号"}}),t("el-table-column",{attrs:{prop:"intime",label:"入住时间"}}),t("el-table-column",{attrs:{prop:"outtime",label:"退房时间"}}),t("el-table-column",{attrs:{prop:"status",label:"状态"}}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return["已退房"!==a.row.status?t("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("退房")]):e._e(),t("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(t){return e.del(a.row.id)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"","current-page":e.queryform.pageNum,"page-sizes":[5,10,20],"page-size":e.queryform.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)]),t("el-dialog",{attrs:{title:"入住信息",visible:e.fromVisible,width:"40%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.fromVisible=t}}},[t("el-form",{ref:"formRef",staticStyle:{"padding-right":"50px"},attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[t("el-form-item",{attrs:{label:"订单编号",prop:"categoryId"}},[t("el-select",{staticStyle:{width:"100%"},on:{change:e.selectcaf},model:{value:e.form.orderid,callback:function(t){e.$set(e.form,"orderid",t)},expression:"form.orderid"}},e._l(e.categoryList,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1),t("el-form-item",{attrs:{label:"房间号",prop:"categoryId"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.form.roomid,callback:function(t){e.$set(e.form,"roomid",t)},expression:"form.roomid"}},e._l(e.roomlist,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1),t("el-form-item",{attrs:{label:"入住日期",prop:"intime"}},[t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",placeholder:"入住时间"},model:{value:e.form.intime,callback:function(t){e.$set(e.form,"intime",t)},expression:"form.intime"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.fromVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)],1)},l=[],r=(a(98992),a(3949),a(18962)),o={data(){return{fileList:[],tableData:[],pageNum:1,pageSize:10,total:0,username:null,token:"",name:null,fromVisible:!1,avatar:"",queryform:{keyword:"",pageNum:1,pageSize:10},license:"",form:{avatar:"",license:""},user:{},rules:{cname:[{required:!0,message:"请输入名称",trigger:"blur"}]},ids:[],businessList:[],categoryList:[],roomlist:[],hotellist:[],sjlist:[]}},mounted(){this.token=window.localStorage.getItem("token"),this.user=JSON.parse(window.localStorage.getItem("userinfo")),console.log(this.user),this.getall(),this.getlist(),this.selectca(this.user.id)},methods:{async selectca(e){console.log(e);const t=await r.A.get("/hotal/orderall");console.log(t),this.categoryList=t.data},async selectcaf(e){this.categoryList.forEach((async(t,a)=>{if(t.id==e){this.form.outtime=this.categoryList[a].outtime,this.form.userid=this.categoryList[a].userid,this.form.hotelid=this.categoryList[a].hotelid,this.form.typeid=this.categoryList[a].typeid,console.log(this.categoryList[a]);const e=await r.A.get(`/hotal/roomByhotalId?hotelId=${this.categoryList[a].hotelid}&&typeId=${this.categoryList[a].typeid}`);console.log(e),this.roomlist=e.data,this.$forceUpdate()}}))},handleFileSuccess(e){this.form.img=e.data},async getall(){const e=await r.A.get("/hotal/all");console.log(e),this.hotellist=e.data},del(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const t=await r.A.get("/hotal/checkdelete?id="+e);console.log(t),1==t.code&&(this.$message({type:"success",message:"删除成功!"}),this.getlist())})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},force(e){this.form.timeRange=e,this.$forceUpdate()},handleEdit(e){this.$confirm("是否确认退房?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const t=await r.A.get("/hotal/checklogout?id="+e.orderid);console.log(t),1==t.code&&(this.$message({type:"success",message:"退房成功!"}),this.getlist())})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},search(){this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},research(){this.queryform.keyword="",this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},async getlist(){"HOTEL"==this.user.role&&(this.queryform.keyword=this.user.id);const e=await r.A.get("/hotal/checkinlist",{params:this.queryform});console.log(e),1==e.code&&(this.tableData=e.data.records,this.total=e.data.total)},add(){this.avatar="",this.license="",this.fileList=[],this.form={},this.fromVisible=!0},handleLicenseSuccess(e){},async save(){const e=await r.A.post("/hotal/addcheckin",this.form);1==e.code&&(this.fromVisible=!1,this.$message.success("操作成功"),this.getlist())},handleCurrentChange(e){},handleAvatarSuccess(e){console.log(e),this.avatar=e.data,console.log(this.form.avatar)},handleAvatarSuccess1(e){this.license=e.data}}},i=o,n=a(81656),c=(0,n.A)(i,s,l,!1,null,"16b0b1f8",null),u=c.exports},74837:function(e,t,a){a.d(t,{A:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"mb"},[t("el-input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"请输入关键词搜索"},model:{value:e.queryform.keyword,callback:function(t){e.$set(e.queryform,"keyword",t)},expression:"queryform.keyword"}}),t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.search()}}},[e._v("查询")]),t("el-button",{attrs:{type:"info",plain:""},on:{click:function(t){return e.research()}}},[e._v("重置")])],1),t("el-card",[t("div",{staticClass:"table"},[t("el-table",{attrs:{data:e.tableData,strip:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"70",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"名称"}}),t("el-table-column",{attrs:{prop:"username",label:"提交人"}}),t("el-table-column",{attrs:{prop:"score",label:"分数"}}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"350"},scopedSlots:e._u([{key:"default",fn:function(a){return[0==a.row.score?t("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.pf(a.row)}}},[e._v("评分")]):e._e()]}}])})],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"","current-page":e.queryform.pageNum,"page-sizes":[5,10,20],"page-size":e.queryform.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)])],1)},l=[],r=(a(98992),a(3949),a(18962)),o={data(){return{fileList:[],teacherlist:[],tikulist:[],tableData:[],pageNum:1,pageSize:10,total:0,username:null,token:"",name:null,fromVisible:!1,avatar:"",queryform:{keyword:"",pageNum:1,pageSize:10},license:"",form:{avatar:"",license:""},user:{},rules:{cname:[{required:!0,message:"请输入名称",trigger:"blur"}]},ids:[],businessList:[],categoryList:[],hotellist:[],sjlist:[]}},mounted(){this.token=window.localStorage.getItem("token"),this.user=JSON.parse(window.localStorage.getItem("userinfo")),console.log(this.user),this.getlist(),this.getall()},methods:{async pf(e){let t=JSON.parse(e.biaozhundaan),a=JSON.parse(e.xueshengdaan),s=0;t.forEach((e=>{a.forEach((t=>{e==t&&(s+=20)}))})),console.log(s);const l=await r.A.post("/tiku/addsj",{id:e.id,score:s});console.log(l),1==l.code&&this.getlist()},shenhe(e){},async selectca(e){console.log(e);const t=await r.A.get("/hotal/typeByhotel?id="+e);console.log(t),this.categoryList=t.data},selectcaf(e){this.$forceUpdate()},handleFileSuccess(e){this.form.img=e.data},async getall(){const e=await r.A.get("/tiku/all");console.log(e),this.tikulist=e.data},del(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const t=await r.A.get("/tiku/delete?id="+e);console.log(t),1==t.code&&(this.$message({type:"success",message:"删除成功!"}),this.getlist())})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},force(e){this.form.timeRange=e,this.$forceUpdate()},handleEdit(e){this.form=e,this.avatar=e.avatar,this.form.teacherid=e.teacherid,"ADMIN"==this.user.role&&this.getall(),this.fromVisible=!0},search(){this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},research(){this.queryform.keyword="",this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},async getlist(){const e=await r.A.get("/tiku/shijuanlist",{params:this.queryform});console.log(e),1==e.code&&(this.tableData=e.data.records,this.total=e.data.total)},add(){this.avatar="",this.license="",this.fileList=[],this.form={},this.fromVisible=!0},handleLicenseSuccess(e){},async save(){const e=await r.A.post("/tiku/savequestion",this.form);1==e.code&&(this.fromVisible=!1,this.$message.success("操作成功"),this.getlist())},handleCurrentChange(e){},handleAvatarSuccess(e){console.log(e),this.avatar=e.data,console.log(this.form.avatar)},handleAvatarSuccess1(e){this.license=e.data}}},i=o,n=a(81656),c=(0,n.A)(i,s,l,!1,null,"676c7977",null),u=c.exports},58372:function(e,t,a){a.d(t,{A:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"mb"},[t("el-input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"请输入关键词搜索"},model:{value:e.queryform.keyword,callback:function(t){e.$set(e.queryform,"keyword",t)},expression:"queryform.keyword"}}),t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.search()}}},[e._v("查询")]),t("el-button",{attrs:{type:"info",plain:""},on:{click:function(t){return e.research()}}},[e._v("重置")]),t("el-button",{staticStyle:{float:"right"},attrs:{type:"warning",plain:""},on:{click:function(t){return e.add()}}},[e._v("新增")])],1),t("el-card",[t("div",{staticClass:"table"},[t("el-table",{attrs:{data:e.tableData,strip:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"70",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"资源名称"}}),t("el-table-column",{attrs:{prop:"url",label:"资源路径",width:"200"}}),t("el-table-column",{attrs:{prop:"type",label:"所属分类"}}),t("el-table-column",{attrs:{prop:"createtime",label:"上传时间"}}),t("el-table-column",{attrs:{prop:"teachername",label:"上传人"}}),t("el-table-column",{attrs:{prop:"info",label:"简介"}}),t("el-table-column",{attrs:{prop:"downloadnum",label:"下载量"},scopedSlots:e._u([{key:"default",fn:function(a){return[null==a.row.downloadnum?t("div",[e._v("0")]):t("div",[e._v(e._s(a.row.downloadnum))])]}}])}),t("el-table-column",{attrs:{prop:"watchnum",label:"浏览量"},scopedSlots:e._u([{key:"default",fn:function(a){return[null==a.row.watchnum?t("div",[e._v("0")]):t("div",[e._v(e._s(a.row.watchnum))])]}}])}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"350"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(t){return e.del(a.row.id)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"","current-page":e.queryform.pageNum,"page-sizes":[5,10,20],"page-size":e.queryform.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)]),t("el-dialog",{attrs:{title:"资源信息",visible:e.fromVisible,width:"40%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.fromVisible=t}}},[t("el-form",{ref:"formRef",staticStyle:{"padding-right":"50px"},attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[t("el-form-item",{attrs:{label:"名称",prop:"gname"}},[t("el-input",{attrs:{placeholder:"名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"分类",prop:"type"}},[t("el-input",{attrs:{placeholder:"名称"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),t("el-form-item",{attrs:{label:"视频",prop:"avatar"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/files/upload","show-file-list":!1,"on-success":e.handleAvatarSuccess}},[""!==e.avatar?t("video",{staticClass:"avatar",attrs:{src:e.avatar}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t("el-form-item",{attrs:{label:"简介",prop:"info"}},[t("el-input",{attrs:{type:"textarea",placeholder:"简介"},model:{value:e.form.info,callback:function(t){e.$set(e.form,"info",t)},expression:"form.info"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.fromVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)],1)},l=[],r=a(18962),o={data(){return{fileList:[],teacherlist:[],tableData:[],pageNum:1,pageSize:10,total:0,username:null,token:"",name:null,fromVisible:!1,avatar:"",queryform:{keyword:"",pageNum:1,tid:0,pageSize:10},license:"",form:{avatar:"",license:""},user:{},rules:{cname:[{required:!0,message:"请输入名称",trigger:"blur"}]},ids:[],businessList:[],categoryList:[],hotellist:[],sjlist:[]}},mounted(){this.token=window.localStorage.getItem("token"),this.user=JSON.parse(window.localStorage.getItem("userinfo")),console.log(this.user),this.getlist(),"ADMIN"==this.user.role&&this.getall()},methods:{shenhe(e){},async selectca(e){console.log(e);const t=await r.A.get("/hotal/typeByhotel?id="+e);console.log(t),this.categoryList=t.data},selectcaf(e){this.$forceUpdate()},handleFileSuccess(e){this.form.img=e.data},async getall(){const e=await r.A.get("/teacher/all");console.log(e),this.teacherlist=e.data},guidang(e){this.$confirm("是否确认归档？, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const t=await r.A.get("/subject/guidang?id="+e);console.log(t),1==t.code&&(this.$message({type:"success",message:"归档成功!"}),this.getlist())})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},del(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const t=await r.A.get("/source/delete?id="+e);console.log(t),1==t.code&&(this.$message({type:"success",message:"删除成功!"}),this.getlist())})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},force(e){this.form.timeRange=e,this.$forceUpdate()},handleEdit(e){this.form=e,this.avatar=e.url,this.form.teacherid=e.teacherid,"ADMIN"==this.user.role&&this.getall(),this.fromVisible=!0},search(){this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},research(){this.queryform.keyword="",this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},async getlist(){"TEACHER"==this.user.role&&(this.queryform.tid=this.user.id);const e=await r.A.get("/source/list",{params:this.queryform});console.log(e),1==e.code&&(this.tableData=e.data.records,this.total=e.data.total)},add(){this.avatar="",this.license="",this.fileList=[],this.form={},this.fromVisible=!0},handleLicenseSuccess(e){},async save(){this.form.url=this.avatar,this.form.teacherid=this.user.id,this.form.createtime=(new Date).toLocaleString(),this.form.watchnum=0,this.form.downloadnum=0;const e=await r.A.post("/source/add",this.form);1==e.code&&(this.fromVisible=!1,this.$message.success("操作成功"),this.getlist())},handleCurrentChange(e){},handleAvatarSuccess(e){console.log(e),this.avatar=e.data,console.log(this.form.avatar)},handleAvatarSuccess1(e){this.license=e.data}}},i=o,n=a(81656),c=(0,n.A)(i,s,l,!1,null,"8df47b14",null),u=c.exports},34984:function(e,t,a){a.d(t,{A:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"mb"},[t("el-input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"请输入关键词搜索"},model:{value:e.queryform.keyword,callback:function(t){e.$set(e.queryform,"keyword",t)},expression:"queryform.keyword"}}),t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.search()}}},[e._v("查询")]),t("el-button",{attrs:{type:"info",plain:""},on:{click:function(t){return e.research()}}},[e._v("重置")]),t("el-button",{staticStyle:{float:"right"},attrs:{type:"warning",plain:""},on:{click:function(t){return e.add()}}},[e._v("新增")])],1),t("el-card",[t("div",{staticClass:"table"},[t("el-table",{attrs:{data:e.tableData,strip:""}},[t("el-table-column",{attrs:{prop:"id",label:"序号",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"username",label:"账号"}}),t("el-table-column",{attrs:{prop:"name",label:"名称"}}),t("el-table-column",{attrs:{label:"头像"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{display:"flex","align-items":"center"}},[a.row.avatar?t("el-image",{staticStyle:{width:"40px",height:"40px","border-radius":"50%"},attrs:{src:a.row.avatar,"preview-src-list":[a.row.avatar]}}):e._e()],1)]}}])}),t("el-table-column",{attrs:{prop:"role",label:"角色"}}),t("el-table-column",{attrs:{prop:"phone",label:"电话"}}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"180",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(t){return e.del(a.row.id)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"","current-page":e.queryform.pageNum,"page-sizes":[5,10,20],"page-size":e.queryform.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)]),t("el-dialog",{attrs:{title:"酒店",visible:e.fromVisible,width:"40%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.fromVisible=t}}},[t("el-form",{ref:"formRef",staticStyle:{"padding-right":"50px"},attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[t("el-form-item",{attrs:{label:"账号",prop:"username"}},[t("el-input",{attrs:{placeholder:"账号"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{placeholder:"密码","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{attrs:{placeholder:"名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"电话",prop:"phone"}},[t("el-input",{attrs:{placeholder:"电话"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{placeholder:"电话"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),t("el-form-item",{attrs:{label:"头像"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/files/upload","show-file-list":!1,"on-success":e.handleAvatarSuccess}},[""!==e.avatar?t("img",{staticClass:"avatar",attrs:{src:e.avatar}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.fromVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)],1)},l=[],r=a(18962),o={data(){return{tableData:[],pageNum:1,pageSize:10,total:0,username:null,token:"",name:null,fromVisible:!1,avatar:"",queryform:{keyword:"",pageNum:1,pageSize:10},license:"",form:{avatar:"",license:""},user:JSON.parse(localStorage.getItem("xm-user")||"{}"),rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],type:[{required:!0,message:"请选择商家类型",trigger:"blur"}]},ids:[]}},mounted(){this.token=window.localStorage.getItem("token"),this.getlist()},methods:{del(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const t=await r.A.get("/teacher/delete?id="+e);console.log(t),1==t.code&&(this.$message({type:"success",message:"删除成功!"}),this.getlist())})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},force(e){this.form.timeRange=e,this.$forceUpdate()},handleEdit(e){this.form=e,this.avatar=e.avatar,this.license=e.license,this.form.timeRange=e.time_range,this.fromVisible=!0},search(){this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},research(){this.queryform.keyword="",this.queryform.pageNum=1,this.queryform.pageSize=10,this.getlist()},async getlist(){const e=await r.A.get("/teacher/list",{params:this.queryform});console.log(e),1==e.code&&(this.tableData=e.data.records,this.total=e.data.total)},add(){this.avatar="",this.license="",this.form={},this.fromVisible=!0},handleLicenseSuccess(e){},async save(){this.form.avatar=this.avatar,this.form.role="TEACHER";const e=await r.A.post("/teacher/addandupdate",this.form);1==e.code&&(this.fromVisible=!1,this.$message.success("操作成功"),this.getlist())},handleCurrentChange(e){},handleAvatarSuccess(e){console.log(e),this.avatar=e.data,console.log(this.form.avatar)},handleAvatarSuccess1(e){this.license=e.data}}},i=o,n=a(81656),c=(0,n.A)(i,s,l,!1,null,"0806171a",null),u=c.exports}}]);